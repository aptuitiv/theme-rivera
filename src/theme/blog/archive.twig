{% extends 'two-column' %}


{% block main %}
    <h1>Archive - {{ startDate }} to {{ endDate }}</h1>
    {% if posts %}
        {% for post in posts %}
            <h2><a href="{{ post.url }}">{{ post.postTitle }}</a></h2>
            {{ post.publishedOnDate }}
            {% if post.abstract %}
                {{ post.abstract }}
            {% else %}
                {{ post.content|truncate_html(400) }}
            {% endif %}
            <a href="{{ post.url }}">read moreâ€¦</a>
        {% endfor %}

        {% if archiveYears %}
            <ul>
            {% for year in archiveYears %}
                <li><a href="{{ year.url }}">{{ year.year }} ({{ year.postCount }} post{% if year.postCount != 1 %}s{% endif %})</a></li>
            {% endfor %}
            </ul>
        {% endif %}
        {% if pagination.pageCount > 1 %}
            <p>
            {% if pagination.previousUrl %}
                <a href="{{ pagination.previousUrl }}" title="Previous Page">&lt; Previous</a> |
            {% endif %}
            {% for page in pagination.pagesInRange %}
                {% if page.number != pagination.current %}
                    <a href="{{ page.url }}" title="Go to Page {{ page.number }}">{{ page.number }}</a>
                {% else %}
                    <strong>{{ page.number }}</strong>
                {% endif %}
            {% endfor %}
            {% if pagination.nextUrl %}
                | <a href="{{ pagination.nextUrl }}" title="Next Page">Next &gt;</a>
            {% endif %}
          </p>
        {% endif %}
    {% endif %}
{% endblock %}

{% block sidebar %}
    <div class="Sidebar">
        {{ _api.blog.categoryFilter.template('api-category-filter') }}
        {{ _api.blog.tagFilter.template('api-tag-filter') }}
        {{ _api.blog.recentPosts.template('api-recent-posts') }}
        {{ _api.blog.recentComments.template('api-recent-comments') }}
        {{ _api.blog.postArchive.template('api-post-archive') }}
    </div>
{% endblock %}
